{"version":3,"names":["React","View","StyleSheet","PortalManager","PureComponent","portals","key","children","setState","state","map","item","filter","render","absoluteFill"],"sources":["PortalManager.tsx"],"sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\ntype State = {\n  portals: Array<{\n    key: number;\n    children: React.ReactNode;\n  }>;\n};\n\n/**\n * Portal host is the component which actually renders all Portals.\n */\nexport default class PortalManager extends React.PureComponent<{}, State> {\n  state: State = {\n    portals: [],\n  };\n\n  mount = (key: number, children: React.ReactNode) => {\n    this.setState((state) => ({\n      portals: [...state.portals, { key, children }],\n    }));\n  };\n\n  update = (key: number, children: React.ReactNode) =>\n    this.setState((state) => ({\n      portals: state.portals.map((item) => {\n        if (item.key === key) {\n          return { ...item, children };\n        }\n        return item;\n      }),\n    }));\n\n  unmount = (key: number) =>\n    this.setState((state) => ({\n      portals: state.portals.filter((item) => item.key !== key),\n    }));\n\n  render() {\n    return this.state.portals.map(({ key, children }) => (\n      <View\n        key={key}\n        collapsable={\n          false /* Need collapsable=false here to clip the elevations, otherwise they appear above sibling components */\n        }\n        pointerEvents=\"box-none\"\n        style={StyleSheet.absoluteFill}\n      >\n        {children}\n      </View>\n    ));\n  }\n}\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,IAAI,EAAEC,UAAU,QAAQ,cAAc;AAS/C;AACA;AACA;AACA,eAAe,MAAMC,aAAa,SAASH,KAAK,CAACI,aAAa,CAAY;EAAA;IAAA;IAAA,+BACzD;MACbC,OAAO,EAAE;IACX,CAAC;IAAA,+BAEO,CAACC,GAAW,EAAEC,QAAyB,KAAK;MAClD,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;QACxBJ,OAAO,EAAE,CAAC,GAAGI,KAAK,CAACJ,OAAO,EAAE;UAAEC,GAAG;UAAEC;QAAS,CAAC;MAC/C,CAAC,CAAC,CAAC;IACL,CAAC;IAAA,gCAEQ,CAACD,GAAW,EAAEC,QAAyB,KAC9C,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;MACxBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QACnC,IAAIA,IAAI,CAACL,GAAG,KAAKA,GAAG,EAAE;UACpB,OAAO;YAAE,GAAGK,IAAI;YAAEJ;UAAS,CAAC;QAC9B;QACA,OAAOI,IAAI;MACb,CAAC;IACH,CAAC,CAAC,CAAC;IAAA,iCAEML,GAAW,IACpB,IAAI,CAACE,QAAQ,CAAEC,KAAK,KAAM;MACxBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACO,MAAM,CAAED,IAAI,IAAKA,IAAI,CAACL,GAAG,KAAKA,GAAG;IAC1D,CAAC,CAAC,CAAC;EAAA;EAELO,MAAM,GAAG;IACP,OAAO,IAAI,CAACJ,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAC;MAAA,IAAC;QAAEJ,GAAG;QAAEC;MAAS,CAAC;MAAA,oBAC9C,oBAAC,IAAI;QACH,GAAG,EAAED,GAAI;QACT,WAAW,EACT,KAAK,CAAC,wGACP;;QACD,aAAa,EAAC,UAAU;QACxB,KAAK,EAAEJ,UAAU,CAACY;MAAa,GAE9BP,QAAQ,CACJ;IAAA,CACR,CAAC;EACJ;AACF"}