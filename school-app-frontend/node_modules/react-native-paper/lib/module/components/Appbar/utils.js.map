{"version":3,"names":["React","StyleSheet","color","overlay","black","white","Tooltip","AppbarAction","AppbarBackAction","AppbarContent","getAppbarColor","theme","elevation","customBackground","elevated","isV3","dark","isDarkTheme","mode","colors","isAdaptiveMode","surface","primary","mix","rgb","string","DEFAULT_APPBAR_HEIGHT","MD3_DEFAULT_APPBAR_HEIGHT","modeAppbarHeight","small","medium","large","modeTextVariant","renderAppbarContent","children","isDark","shouldCenterContent","renderOnly","renderExcept","Children","toArray","filter","child","includes","type","map","i","isValidElement","props","undefined","style","styles","v3Spacing","v2Spacing","centerAlignedContent","cloneElement","create","alignItems","marginLeft"],"sources":["utils.ts"],"sourcesContent":["import React from 'react';\nimport type { ColorValue, StyleProp, ViewStyle } from 'react-native';\nimport { StyleSheet } from 'react-native';\n\nimport color from 'color';\n\nimport overlay from '../../styles/overlay';\nimport { black, white } from '../../styles/themes/v2/colors';\nimport type { InternalTheme } from '../../types';\nimport Tooltip from '../Tooltip/Tooltip';\nimport AppbarAction from './AppbarAction';\nimport AppbarBackAction from './AppbarBackAction';\nimport AppbarContent from './AppbarContent';\n\nexport type AppbarModes = 'small' | 'medium' | 'large' | 'center-aligned';\n\nexport const getAppbarColor = (\n  theme: InternalTheme,\n  elevation: number,\n  customBackground?: ColorValue,\n  elevated?: boolean\n) => {\n  const { isV3, dark: isDarkTheme, mode, colors } = theme;\n  const isAdaptiveMode = mode === 'adaptive';\n  if (customBackground) {\n    return customBackground;\n  }\n\n  if (!isV3) {\n    if (isDarkTheme && isAdaptiveMode) {\n      return overlay(elevation, colors?.surface);\n    }\n\n    return colors.primary;\n  }\n\n  if (elevated) {\n    return color(colors.surface)\n      .mix(color(colors.primary), 0.08)\n      .rgb()\n      .string();\n  }\n\n  return colors.surface;\n};\n\ntype RenderAppbarContentProps = {\n  children: React.ReactNode;\n  isDark: boolean;\n  shouldCenterContent?: boolean;\n  isV3: boolean;\n  renderOnly?: React.ComponentType<any>[];\n  renderExcept?: React.ComponentType<any>[];\n  mode?: AppbarModes;\n};\n\nexport const DEFAULT_APPBAR_HEIGHT = 56;\nconst MD3_DEFAULT_APPBAR_HEIGHT = 64;\n\nexport const modeAppbarHeight = {\n  small: MD3_DEFAULT_APPBAR_HEIGHT,\n  medium: 112,\n  large: 152,\n  'center-aligned': MD3_DEFAULT_APPBAR_HEIGHT,\n};\n\nexport const modeTextVariant = {\n  small: 'titleLarge',\n  medium: 'headlineSmall',\n  large: 'headlineMedium',\n  'center-aligned': 'titleLarge',\n};\n\nexport const renderAppbarContent = ({\n  children,\n  isDark,\n  shouldCenterContent = false,\n  isV3,\n  renderOnly,\n  renderExcept,\n  mode = 'small',\n}: RenderAppbarContentProps) => {\n  return (\n    React.Children.toArray(children as React.ReactNode | React.ReactNode[])\n      .filter((child) => child != null && typeof child !== 'boolean')\n      .filter((child) =>\n        // @ts-expect-error: TypeScript complains about the type of type but it doesn't matter\n        renderExcept ? !renderExcept.includes(child.type) : child\n      )\n      // @ts-expect-error: TypeScript complains about the type of type but it doesn't matter\n      .filter((child) => (renderOnly ? renderOnly.includes(child.type) : child))\n      .map((child, i) => {\n        if (\n          !React.isValidElement(child) ||\n          ![AppbarContent, AppbarAction, AppbarBackAction, Tooltip].includes(\n            // @ts-expect-error: TypeScript complains about the type of type but it doesn't matter\n            child.type\n          )\n        ) {\n          return child;\n        }\n\n        const props: {\n          color?: string;\n          style?: StyleProp<ViewStyle>;\n          mode?: AppbarModes;\n        } = {\n          color:\n            typeof child.props.color !== 'undefined'\n              ? child.props.color\n              : isV3\n              ? undefined\n              : isDark\n              ? white\n              : black,\n        };\n\n        if (child.type === AppbarContent) {\n          props.mode = mode;\n          props.style = [\n            isV3\n              ? i === 0 && !shouldCenterContent && styles.v3Spacing\n              : i !== 0 && styles.v2Spacing,\n            shouldCenterContent && styles.centerAlignedContent,\n            child.props.style,\n          ];\n        }\n        return React.cloneElement(child, props);\n      })\n  );\n};\n\nconst styles = StyleSheet.create({\n  centerAlignedContent: {\n    alignItems: 'center',\n  },\n  v2Spacing: {\n    marginLeft: 8,\n  },\n  v3Spacing: {\n    marginLeft: 12,\n  },\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,QAAQ,cAAc;AAEzC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAASC,KAAK,EAAEC,KAAK,QAAQ,+BAA+B;AAE5D,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAOC,aAAa,MAAM,iBAAiB;AAI3C,OAAO,MAAMC,cAAc,GAAG,CAC5BC,KAAoB,EACpBC,SAAiB,EACjBC,gBAA6B,EAC7BC,QAAkB,KACf;EACH,MAAM;IAAEC,IAAI;IAAEC,IAAI,EAAEC,WAAW;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAGR,KAAK;EACvD,MAAMS,cAAc,GAAGF,IAAI,KAAK,UAAU;EAC1C,IAAIL,gBAAgB,EAAE;IACpB,OAAOA,gBAAgB;EACzB;EAEA,IAAI,CAACE,IAAI,EAAE;IACT,IAAIE,WAAW,IAAIG,cAAc,EAAE;MACjC,OAAOjB,OAAO,CAACS,SAAS,EAAEO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,OAAO,CAAC;IAC5C;IAEA,OAAOF,MAAM,CAACG,OAAO;EACvB;EAEA,IAAIR,QAAQ,EAAE;IACZ,OAAOZ,KAAK,CAACiB,MAAM,CAACE,OAAO,CAAC,CACzBE,GAAG,CAACrB,KAAK,CAACiB,MAAM,CAACG,OAAO,CAAC,EAAE,IAAI,CAAC,CAChCE,GAAG,EAAE,CACLC,MAAM,EAAE;EACb;EAEA,OAAON,MAAM,CAACE,OAAO;AACvB,CAAC;AAYD,OAAO,MAAMK,qBAAqB,GAAG,EAAE;AACvC,MAAMC,yBAAyB,GAAG,EAAE;AAEpC,OAAO,MAAMC,gBAAgB,GAAG;EAC9BC,KAAK,EAAEF,yBAAyB;EAChCG,MAAM,EAAE,GAAG;EACXC,KAAK,EAAE,GAAG;EACV,gBAAgB,EAAEJ;AACpB,CAAC;AAED,OAAO,MAAMK,eAAe,GAAG;EAC7BH,KAAK,EAAE,YAAY;EACnBC,MAAM,EAAE,eAAe;EACvBC,KAAK,EAAE,gBAAgB;EACvB,gBAAgB,EAAE;AACpB,CAAC;AAED,OAAO,MAAME,mBAAmB,GAAG,QAQH;EAAA,IARI;IAClCC,QAAQ;IACRC,MAAM;IACNC,mBAAmB,GAAG,KAAK;IAC3BrB,IAAI;IACJsB,UAAU;IACVC,YAAY;IACZpB,IAAI,GAAG;EACiB,CAAC;EACzB,OACElB,KAAK,CAACuC,QAAQ,CAACC,OAAO,CAACN,QAAQ,CAAwC,CACpEO,MAAM,CAAEC,KAAK,IAAKA,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,SAAS,CAAC,CAC9DD,MAAM,CAAEC,KAAK;EACZ;EACAJ,YAAY,GAAG,CAACA,YAAY,CAACK,QAAQ,CAACD,KAAK,CAACE,IAAI,CAAC,GAAGF,KAAK;EAE3D;EAAA,CACCD,MAAM,CAAEC,KAAK,IAAML,UAAU,GAAGA,UAAU,CAACM,QAAQ,CAACD,KAAK,CAACE,IAAI,CAAC,GAAGF,KAAM,CAAC,CACzEG,GAAG,CAAC,CAACH,KAAK,EAAEI,CAAC,KAAK;IACjB,IACE,eAAC9C,KAAK,CAAC+C,cAAc,CAACL,KAAK,CAAC,IAC5B,CAAC,CAACjC,aAAa,EAAEF,YAAY,EAAEC,gBAAgB,EAAEF,OAAO,CAAC,CAACqC,QAAQ;IAChE;IACAD,KAAK,CAACE,IAAI,CACX,EACD;MACA,OAAOF,KAAK;IACd;IAEA,MAAMM,KAIL,GAAG;MACF9C,KAAK,EACH,OAAOwC,KAAK,CAACM,KAAK,CAAC9C,KAAK,KAAK,WAAW,GACpCwC,KAAK,CAACM,KAAK,CAAC9C,KAAK,GACjBa,IAAI,GACJkC,SAAS,GACTd,MAAM,GACN9B,KAAK,GACLD;IACR,CAAC;IAED,IAAIsC,KAAK,CAACE,IAAI,KAAKnC,aAAa,EAAE;MAChCuC,KAAK,CAAC9B,IAAI,GAAGA,IAAI;MACjB8B,KAAK,CAACE,KAAK,GAAG,CACZnC,IAAI,GACA+B,CAAC,KAAK,CAAC,IAAI,CAACV,mBAAmB,IAAIe,MAAM,CAACC,SAAS,GACnDN,CAAC,KAAK,CAAC,IAAIK,MAAM,CAACE,SAAS,EAC/BjB,mBAAmB,IAAIe,MAAM,CAACG,oBAAoB,EAClDZ,KAAK,CAACM,KAAK,CAACE,KAAK,CAClB;IACH;IACA,oBAAOlD,KAAK,CAACuD,YAAY,CAACb,KAAK,EAAEM,KAAK,CAAC;EACzC,CAAC,CAAC;AAER,CAAC;AAED,MAAMG,MAAM,GAAGlD,UAAU,CAACuD,MAAM,CAAC;EAC/BF,oBAAoB,EAAE;IACpBG,UAAU,EAAE;EACd,CAAC;EACDJ,SAAS,EAAE;IACTK,UAAU,EAAE;EACd,CAAC;EACDN,SAAS,EAAE;IACTM,UAAU,EAAE;EACd;AACF,CAAC,CAAC"}