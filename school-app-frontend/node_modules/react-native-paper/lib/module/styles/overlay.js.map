{"version":3,"names":["Animated","color","MD2DarkTheme","isAnimatedValue","it","Value","overlay","elevation","surfaceColor","colors","surface","inputRange","interpolate","outputRange","map","calculateColor","overlayTransparency","elevationOverlayTransparency","mix","hex"],"sources":["overlay.tsx"],"sourcesContent":["import { Animated } from 'react-native';\n\nimport color from 'color';\n\nimport { MD2DarkTheme } from './themes/v2/DarkTheme';\n\nexport const isAnimatedValue = (\n  it: number | string | Animated.AnimatedInterpolation<number | string>\n): it is Animated.Value => it instanceof Animated.Value;\n\nexport default function overlay<T extends Animated.Value | number>(\n  elevation: T,\n  surfaceColor: string = MD2DarkTheme.colors?.surface\n): T extends number ? string : Animated.AnimatedInterpolation<number | string> {\n  if (isAnimatedValue(elevation)) {\n    const inputRange = [0, 1, 2, 3, 8, 24];\n\n    // @ts-expect-error: TS doesn't seem to refine the type correctly\n    return elevation.interpolate({\n      inputRange,\n      outputRange: inputRange.map((elevation) => {\n        return calculateColor(surfaceColor, elevation);\n      }),\n    });\n  }\n\n  // @ts-expect-error: TS doesn't seem to refine the type correctly\n  return calculateColor(surfaceColor, elevation);\n}\n\nfunction calculateColor(surfaceColor: string, elevation: number = 1) {\n  let overlayTransparency: number;\n  if (elevation >= 1 && elevation <= 24) {\n    overlayTransparency = elevationOverlayTransparency[elevation];\n  } else if (elevation > 24) {\n    overlayTransparency = elevationOverlayTransparency[24];\n  } else {\n    overlayTransparency = elevationOverlayTransparency[1];\n  }\n  return color(surfaceColor)\n    .mix(color('white'), overlayTransparency * 0.01)\n    .hex();\n}\n\nconst elevationOverlayTransparency: Record<string, number> = {\n  1: 5,\n  2: 7,\n  3: 8,\n  4: 9,\n  5: 10,\n  6: 11,\n  7: 11.5,\n  8: 12,\n  9: 12.5,\n  10: 13,\n  11: 13.5,\n  12: 14,\n  13: 14.25,\n  14: 14.5,\n  15: 14.75,\n  16: 15,\n  17: 15.12,\n  18: 15.24,\n  19: 15.36,\n  20: 15.48,\n  21: 15.6,\n  22: 15.72,\n  23: 15.84,\n  24: 16,\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,cAAc;AAEvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,YAAY,QAAQ,uBAAuB;AAEpD,OAAO,MAAMC,eAAe,GAC1BC,EAAqE,IAC5CA,EAAE,YAAYJ,QAAQ,CAACK,KAAK;AAEvD,eAAe,SAASC,OAAO,CAC7BC,SAAY,EAEiE;EAAA;EAAA,IAD7EC,YAAoB,+FAAGN,YAAY,CAACO,MAAM,yDAAnB,qBAAqBC,OAAO;EAEnD,IAAIP,eAAe,CAACI,SAAS,CAAC,EAAE;IAC9B,MAAMI,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;;IAEtC;IACA,OAAOJ,SAAS,CAACK,WAAW,CAAC;MAC3BD,UAAU;MACVE,WAAW,EAAEF,UAAU,CAACG,GAAG,CAAEP,SAAS,IAAK;QACzC,OAAOQ,cAAc,CAACP,YAAY,EAAED,SAAS,CAAC;MAChD,CAAC;IACH,CAAC,CAAC;EACJ;;EAEA;EACA,OAAOQ,cAAc,CAACP,YAAY,EAAED,SAAS,CAAC;AAChD;AAEA,SAASQ,cAAc,CAACP,YAAoB,EAAyB;EAAA,IAAvBD,SAAiB,uEAAG,CAAC;EACjE,IAAIS,mBAA2B;EAC/B,IAAIT,SAAS,IAAI,CAAC,IAAIA,SAAS,IAAI,EAAE,EAAE;IACrCS,mBAAmB,GAAGC,4BAA4B,CAACV,SAAS,CAAC;EAC/D,CAAC,MAAM,IAAIA,SAAS,GAAG,EAAE,EAAE;IACzBS,mBAAmB,GAAGC,4BAA4B,CAAC,EAAE,CAAC;EACxD,CAAC,MAAM;IACLD,mBAAmB,GAAGC,4BAA4B,CAAC,CAAC,CAAC;EACvD;EACA,OAAOhB,KAAK,CAACO,YAAY,CAAC,CACvBU,GAAG,CAACjB,KAAK,CAAC,OAAO,CAAC,EAAEe,mBAAmB,GAAG,IAAI,CAAC,CAC/CG,GAAG,EAAE;AACV;AAEA,MAAMF,4BAAoD,GAAG;EAC3D,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,IAAI;EACP,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,IAAI;EACP,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE;AACN,CAAC"}