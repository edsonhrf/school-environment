{"version":3,"names":["addEventListener","Module","rest","eventName","handler","removed","subscription","remove","removeEventListener","addListener"],"sources":["addEventListener.tsx"],"sourcesContent":["import type {\n  NativeEventSubscription,\n  EmitterSubscription,\n} from 'react-native';\n\nexport function addEventListener<\n  T extends {\n    addEventListener: (\n      ...args: any\n    ) => NativeEventSubscription | EmitterSubscription;\n  } & { removeEventListener?: (...args: any) => void } & {\n    remove?: (...args: any) => void;\n  }\n>(Module: T, ...rest: Parameters<typeof Module.addEventListener>) {\n  const [eventName, handler] = rest;\n\n  let removed = false;\n\n  const subscription = Module.addEventListener(eventName, handler) ?? {\n    remove: () => {\n      if (removed) {\n        return;\n      }\n\n      Module.removeEventListener?.(eventName, handler);\n      Module.remove?.(eventName, handler);\n      removed = true;\n    },\n  };\n\n  return subscription;\n}\n\nexport function addListener<\n  T extends {\n    addListener: (...args: any) => EmitterSubscription;\n    removeEventListener: (...args: any) => void;\n  }\n>(Module: T, ...rest: Parameters<typeof Module.addListener>) {\n  const [eventName, handler] = rest;\n\n  let removed = false;\n\n  const subscription = Module.addListener(eventName, handler) ?? {\n    remove: () => {\n      if (removed) {\n        return;\n      }\n\n      Module.removeEventListener(eventName, handler);\n      removed = true;\n    },\n  };\n\n  return subscription;\n}\n"],"mappings":";;;;;;;AAKO,SAASA,gBAAgB,CAQ9BC,MAAS,EAAuD;EAAA;EAAA,kCAAlDC,IAAI;IAAJA,IAAI;EAAA;EAClB,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAGF,IAAI;EAEjC,IAAIG,OAAO,GAAG,KAAK;EAEnB,MAAMC,YAAY,4BAAGL,MAAM,CAACD,gBAAgB,CAACG,SAAS,EAAEC,OAAO,CAAC,yEAAI;IAClEG,MAAM,EAAE,MAAM;MAAA;MACZ,IAAIF,OAAO,EAAE;QACX;MACF;MAEA,yBAAAJ,MAAM,CAACO,mBAAmB,0DAA1B,2BAAAP,MAAM,EAAuBE,SAAS,EAAEC,OAAO,CAAC;MAChD,kBAAAH,MAAM,CAACM,MAAM,mDAAb,oBAAAN,MAAM,EAAUE,SAAS,EAAEC,OAAO,CAAC;MACnCC,OAAO,GAAG,IAAI;IAChB;EACF,CAAC;EAED,OAAOC,YAAY;AACrB;AAEO,SAASG,WAAW,CAKzBR,MAAS,EAAkD;EAAA;EAAA,mCAA7CC,IAAI;IAAJA,IAAI;EAAA;EAClB,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAGF,IAAI;EAEjC,IAAIG,OAAO,GAAG,KAAK;EAEnB,MAAMC,YAAY,0BAAGL,MAAM,CAACQ,WAAW,CAACN,SAAS,EAAEC,OAAO,CAAC,qEAAI;IAC7DG,MAAM,EAAE,MAAM;MACZ,IAAIF,OAAO,EAAE;QACX;MACF;MAEAJ,MAAM,CAACO,mBAAmB,CAACL,SAAS,EAAEC,OAAO,CAAC;MAC9CC,OAAO,GAAG,IAAI;IAChB;EACF,CAAC;EAED,OAAOC,YAAY;AACrB"}